import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import axios from "axios";
import { DollarSign, CreditCard, TrendingUp, BarChart2, Download, Calendar, Percent, Wallet } from "lucide-react";
import { useEffect, useState } from "react";
import { getAuthHeaders } from "../../../services/authService.js";
import { Loader } from "../../../components/Loader.js";
const EarningsPage = () => {
    const [loading, setLoading] = useState(false);
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    const [stats, setStats] = useState({
        totalEarnings: 0,
        availableBalance: 0,
        pendingPayouts: 0,
        transactionsThisMonth: 0,
        commissionRate: "0%"
    });
    useEffect(() => {
        const fetchEarningsData = async () => {
            setLoading(true);
            try {
                const response = await axios.get('http://localhost:5000/api/agents/referrals', {
                    headers: getAuthHeaders()
                });
                setStats(response.data.stats);
            }
            catch (error) {
                console.error("Error fetching earnings data:", error);
            }
            finally {
                setLoading(false);
            }
        };
        fetchEarningsData();
    }, []);
    const payoutHistory = [
        { id: 1, date: "2023-05-01", amount: 10000, method: "M-Pesa", status: "completed", reference: "PO123456789" },
        { id: 2, date: "2023-04-01", amount: 12000, method: "M-Pesa", status: "completed", reference: "PO987654321" },
        { id: 3, date: "2023-03-01", amount: 8000, method: "M-Pesa", status: "completed", reference: "PO456789123" },
        { id: 4, date: "2023-02-01", amount: 10000, method: "Bank Transfer", status: "completed", reference: "PO789123456" },
        { id: 5, date: "2023-01-01", amount: 15000, method: "M-Pesa", status: "completed", reference: "PO321654987" }
    ];
    const formatCurrency = (amount) => {
        return new Intl.NumberFormat("en-KE", {
            style: "currency",
            currency: "KES",
            minimumFractionDigits: 0,
        }).format(amount);
    };
    const formatDate = (dateString) => {
        return new Date(dateString).toLocaleDateString("en-US", {
            year: "numeric",
            month: "short",
            day: "numeric",
        });
    };
    if (loading)
        return _jsx(Loader, {});
    return (_jsxs("div", { className: "space-y-6 p-6 dark:bg-gradient-to-br from-primary-600/10 via-white to-blue-50 dark:from-gray-950/60 dark:via-gray-950/70 dark:to-gray-950/60", children: [_jsx("h1", { className: "text-2xl font-semibold text-gray-900 dark:text-white", children: "Earnings Dashboard" }), _jsxs("div", { className: "grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3", children: [_jsx("div", { className: "bg-white dark:bg-gray-900 overflow-hidden shadow rounded-lg", children: _jsx("div", { className: "p-5", children: _jsxs("div", { className: "flex items-center", children: [_jsx("div", { className: "flex-shrink-0 bg-purple-100 dark:bg-purple-900 p-3 rounded-full", children: _jsx(DollarSign, { className: "h-6 w-6 text-purple-600 dark:text-purple-400" }) }), _jsx("div", { className: "ml-5 w-0 flex-1", children: _jsxs("dl", { children: [_jsx("dt", { className: "text-sm font-medium text-gray-500 dark:text-gray-400 truncate", children: "Total Earnings" }), _jsx("dd", { children: _jsx("div", { className: "text-lg font-medium text-gray-900 dark:text-white", children: "Ksh 0" }) })] }) })] }) }) }), _jsx("div", { className: "bg-white dark:bg-gray-900 overflow-hidden shadow rounded-lg", children: _jsx("div", { className: "p-5", children: _jsxs("div", { className: "flex items-center", children: [_jsx("div", { className: "flex-shrink-0 bg-green-100 dark:bg-green-900 p-3 rounded-full", children: _jsx(Wallet, { className: "h-6 w-6 text-green-600 dark:text-green-400" }) }), _jsx("div", { className: "ml-5 w-0 flex-1", children: _jsxs("dl", { children: [_jsx("dt", { className: "text-sm font-medium text-gray-500 dark:text-gray-400 truncate", children: "Available Balance" }), _jsx("dd", { children: _jsx("div", { className: "text-lg font-medium text-gray-900 dark:text-white", children: formatCurrency(0) }) })] }) })] }) }) }), _jsx("div", { className: "bg-white dark:bg-gray-900 overflow-hidden shadow rounded-lg", children: _jsx("div", { className: "p-5", children: _jsxs("div", { className: "flex items-center", children: [_jsx("div", { className: "flex-shrink-0 bg-yellow-100 dark:bg-yellow-900 p-3 rounded-full", children: _jsx(CreditCard, { className: "h-6 w-6 text-yellow-600 dark:text-yellow-400" }) }), _jsx("div", { className: "ml-5 w-0 flex-1", children: _jsxs("dl", { children: [_jsx("dt", { className: "text-sm font-medium text-gray-500 dark:text-gray-400 truncate", children: "Pending Payouts" }), _jsx("dd", { children: _jsx("div", { className: "text-lg font-medium text-gray-900 dark:text-white", children: formatCurrency(0) }) })] }) })] }) }) })] }), _jsxs("div", { className: "bg-white dark:bg-gray-900 shadow rounded-lg p-6", children: [_jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6", children: [_jsx("h2", { className: "text-xl font-semibold", children: "Earnings Overview" }), _jsxs("div", { className: "flex items-center space-x-2 mt-4 sm:mt-0", children: [_jsx("div", { className: "relative", children: _jsxs("button", { className: "inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-900 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-950/40 hover:bg-gray-50 dark:hover:bg-gray-950/50 focus:outline-none", children: [_jsx(Calendar, { className: "h-4 w-4 mr-2" }), "This Month"] }) }), _jsxs("button", { className: "inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-900 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-950/40 hover:bg-gray-50 dark:hover:bg-gray-950/50 focus:outline-none", children: [_jsx(Download, { className: "h-4 w-4 mr-2" }), "Export"] })] })] }), _jsxs("div", { className: "bg-gray-50 dark:bg-gray-950/40 rounded-lg h-64 flex items-center justify-center", children: [_jsx(BarChart2, { className: "h-12 w-12 text-gray-400" }), _jsx("p", { className: "ml-2 text-gray-500 dark:text-gray-400", children: "Earnings chart will appear here" })] })] }), _jsx("div", { className: "mt-8 bg-white dark:bg-gray-900 shadow rounded-lg", children: _jsxs("div", { className: "px-4 py-5 sm:p-6", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("h3", { className: "text-lg leading-6 font-medium text-gray-900 dark:text-white", children: "Your Wallet" }), _jsx("span", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: formatCurrency(0) })] }), _jsx("div", { className: "mt-4", children: _jsx("button", { type: "button", className: "inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500", children: "Withdraw to M-Pesa" }) })] }) }), _jsxs("div", { className: "bg-white dark:bg-gray-900 shadow rounded-lg overflow-hidden", children: [_jsxs("div", { className: "px-6 py-4 border-b border-gray-200 dark:border-primary-600/20 flex items-center justify-between", children: [_jsx("h2", { className: "text-xl font-semibold", children: "Payout History" }), _jsx("button", { className: "bg-gray-900/30 text-sm p-2 rounded font-medium text-primary-600 hover:text-primary-500", children: "View All" })] }), _jsx("div", { className: "overflow-x-auto", children: _jsxs("table", { className: "min-w-full divide-y divide-gray-200 dark:divide-primary-600/20", children: [_jsx("thead", { className: "bg-gray-50 dark:bg-gray-950/40", children: _jsxs("tr", { children: [_jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: "Date" }), _jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: "Amount" }), _jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: "Method" }), _jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: "Status" }), _jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: "Reference" })] }) }), _jsx("tbody", { className: "bg-white dark:bg-gray-950/10 divide-y divide-gray-200 dark:divide-primary-600/5", children: payoutHistory.map((payout) => (_jsxs("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-900", children: [_jsx("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400", children: formatDate(payout.date) }), _jsx("td", { className: "px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white", children: formatCurrency(payout.amount) }), _jsx("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400", children: payout.method }), _jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: _jsx("span", { className: "px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200", children: "Completed" }) }), _jsx("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400", children: payout.reference })] }, payout.id))) })] }) })] }), _jsxs("div", { className: "mt-8 bg-white dark:bg-gray-900 shadow rounded-lg", children: [_jsx("div", { className: "px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-primary-600/20", children: _jsx("h3", { className: "text-lg leading-6 font-medium text-gray-900 dark:text-white", children: "Commission Structure" }) }), _jsx("div", { className: "px-4 py-5 sm:p-6", children: _jsxs("div", { className: "grid grid-cols-1 gap-6 sm:grid-cols-3", children: [_jsxs("div", { className: "bg-gray-50 dark:bg-gray-950/50 p-4 rounded-lg", children: [_jsx("div", { className: "flex items-center justify-center mb-2", children: _jsx("div", { className: "h-12 w-12 rounded-full bg-primary-600/30 dark:bg-primary-600/30 flex items-center justify-center", children: _jsx(Percent, { className: "h-6 w-6 text-primary-600 dark:text-primary-600" }) }) }), _jsx("h4", { className: "text-center text-lg font-medium text-gray-900 dark:text-white mb-1", children: "5%" }), _jsx("p", { className: "text-center text-sm text-gray-500 dark:text-gray-400", children: "Commission on first month's rent" })] }), _jsxs("div", { className: "bg-gray-50 dark:bg-gray-950/50 p-4 rounded-lg", children: [_jsx("div", { className: "flex items-center justify-center mb-2", children: _jsx("div", { className: "h-12 w-12 rounded-full bg-primary-600/30 dark:bg-primary-600/30 flex items-center justify-center", children: _jsx(Percent, { className: "h-6 w-6 text-primary-600 dark:text-primary-600" }) }) }), _jsx("h4", { className: "text-center text-lg font-medium text-gray-900 dark:text-white mb-1", children: "2%" }), _jsx("p", { className: "text-center text-sm text-gray-500 dark:text-gray-400", children: "Recurring commission on monthly rent" })] }), _jsxs("div", { className: "bg-gray-50 dark:bg-gray-950/50 p-4 rounded-lg", children: [_jsx("div", { className: "flex items-center justify-center mb-2", children: _jsx("div", { className: "h-12 w-12 rounded-full bg-primary-600/30 dark:bg-primary-600/30 flex items-center justify-center", children: _jsx(TrendingUp, { className: "h-6 w-6 text-primary-600 dark:text-primary-600" }) }) }), _jsx("h4", { className: "text-center text-lg font-medium text-gray-900 dark:text-white mb-1", children: "KES 1,000" }), _jsx("p", { className: "text-center text-sm text-gray-500 dark:text-gray-400", children: "Bonus for each new landlord referral" })] })] }) })] })] }));
};
export default EarningsPage;
